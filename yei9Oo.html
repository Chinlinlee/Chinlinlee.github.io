<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🐅&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>將 Docker Image 推送到 Private Docker Registry&nbsp;|&nbsp;ChinLin’s Blog</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="將 Docker Image 推送到 Private Docker Registry">
  
    <meta name="description" content="先私人，在公開">
    <meta property="og:description" content="先私人，在公開">
  
  
    <meta property="og:image" content="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6a356305-e0ce-47f9-b0c8-456d9bc61f82%2Fdocker.svg?table=block&amp;id=1e17609e-7c3d-48bd-8e9c-0ad0cdea0c38">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🐅&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2529def0-9031-44bd-94d3-e6da4b9e887c%2F%E5%86%A0%E8%B2%93%E6%80%9D%E8%80%83.png?table=block&amp;id=721d7aeb-cf52-4f6f-9a86-648e0e7bfcb1"></span>&nbsp;
          
          <span>關於我</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6a356305-e0ce-47f9-b0c8-456d9bc61f82%2Fdocker.svg?table=block&amp;id=1e17609e-7c3d-48bd-8e9c-0ad0cdea0c38"></span>
      </div>
    
    <h1 class="Header__Title">將 Docker Image 推送到 Private Docker Registry</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Tue, Mar 8, 2022</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--blue">
            <a href="tag/Docker.html">Docker</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/1e17609e7c3d48bd8e9c0ad0cdea0c38" class="PageRoot"><h1 id="https://www.notion.so/474d031bb13f44faa6b23e0313049581" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/474d031bb13f44faa6b23e0313049581"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Why？</span></span></h1><div id="https://www.notion.so/a6105e1ca84040e3ac2de7b50b69792b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">筆者認為自己的 Docker Image 雖然在本地 build image 以及 run 的時候都沒問題，但包裹後 Image 上到公開的 Docker Hub 難免都有可能出錯。 所以就找到了 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://docs.docker.com/registry/deploying/">Private Registry Server</a></span><span class="SemanticString"> 架設自己的 Docker 私有雲，這樣就可以私下進行 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">push</code></span><span class="SemanticString">、</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">pull</code></span><span class="SemanticString">，測試 OK 之後就可以推送 Docker Hub 啦。</span></span></p></div><h1 id="https://www.notion.so/4ef957bcfd004d2299367890687ae7ec" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/4ef957bcfd004d2299367890687ae7ec"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">學習內容</span></span></h1><div id="https://www.notion.so/647538a5a69641c18421630a610f28f7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在這邊文章中，您將學到以下內容：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/17f4be08308148949054145cc349ebc9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">架設私有的 Docker Registry</span></span></li><li id="https://www.notion.so/f68300a926b64f388b2225f3f4fca2db" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">推送 Image 到私有的 Docker registry</span></span></li><li id="https://www.notion.so/181f0b7670fa4db98e082be8bf1b5904" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">使用另一台電腦把 Image 拉下來測試</span></span></li></ul><h1 id="https://www.notion.so/200f294f6d5a427cab91dd2ddae77108" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/200f294f6d5a427cab91dd2ddae77108"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Part 1：架設 Docker Registry</span></span></h1><div id="https://www.notion.so/826ac39fadd14fa98d77fdbfe0dcef47" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">筆者這裡選擇使用 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">docker-compose</code></span><span class="SemanticString"> 架設 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">registry</code></span><span class="SemanticString"> ，方便管理自己的 Docker 服務。</span></span></p></div><h2 id="https://www.notion.so/6cba95d2f7244108bcb5e19637a4a7da" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/6cba95d2f7244108bcb5e19637a4a7da"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">新增帳號密碼</span></span></h2><div id="https://www.notion.so/9a252af291664ea795518126d55f82e2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">為了完美實現</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">私人</strong></mark></span><span class="SemanticString">的 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">registry</code></span><span class="SemanticString">  ，所以必須建立帳號密碼，保障自架的 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">registry</code></span><span class="SemanticString"> 服務。</span></span></p></div><pre id="https://www.notion.so/79f077e598014e5daa92663366d098db" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>docker run \
  <span class="token operator">--</span>entrypoint htpasswd \
  <span class="token literal-property property">httpd</span><span class="token operator">:</span><span class="token number">2</span> <span class="token operator">-</span>Bbn testuser testpassword <span class="token operator">></span> registry<span class="token operator">-</span>config<span class="token operator">/</span>htpasswd</span></span></span></code></pre><div id="https://www.notion.so/99b798d29f204dd0931d65f3f3bdf268" class="ColorfulBlock ColorfulBlock--BgOrange Callout"><div class="Callout__Icon"><div class="Icon">🔔</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">testuser</code></span><span class="SemanticString"> 為帳號名稱
</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">testpassword</code></span><span class="SemanticString"> 為密碼</span></span></p></div><div id="https://www.notion.so/344a06d69fff49f4a6b669e455032457" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">
</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">請記得自行修改帳號密碼</strong></mark></span></span></p></div><h2 id="https://www.notion.so/d934f2eebcc64c889e3a04c26977c474" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/d934f2eebcc64c889e3a04c26977c474"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">設定 Docker Registry (config.yml)</span></span></h2><pre id="https://www.notion.so/ab0b2330c2014443ac47a8847a8cde46" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">0.1</span>
<span class="token key atrule">log</span><span class="token punctuation">:</span>
  <span class="token key atrule">fields</span><span class="token punctuation">:</span>
    <span class="token key atrule">service</span><span class="token punctuation">:</span> registry
<span class="token key atrule">storage</span><span class="token punctuation">:</span>
  <span class="token key atrule">cache</span><span class="token punctuation">:</span>
    <span class="token key atrule">blobdescriptor</span><span class="token punctuation">:</span> inmemory
  <span class="token key atrule">filesystem</span><span class="token punctuation">:</span>
    <span class="token key atrule">rootdirectory</span><span class="token punctuation">:</span> /var/lib/registry
  <span class="token key atrule">delete</span><span class="token punctuation">:</span> <span class="token comment"># 加入刪除功能</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">http</span><span class="token punctuation">:</span>
  <span class="token key atrule">addr</span><span class="token punctuation">:</span> <span class="token punctuation">:</span><span class="token number">5000</span>
  <span class="token key atrule">headers</span><span class="token punctuation">:</span>
    <span class="token key atrule">X-Content-Type-Options</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>nosniff<span class="token punctuation">]</span>
<span class="token key atrule">health</span><span class="token punctuation">:</span>
  <span class="token key atrule">storagedriver</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">interval</span><span class="token punctuation">:</span> 10s
    <span class="token key atrule">threshold</span><span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token key atrule">auth</span><span class="token punctuation">:</span> <span class="token comment"># 加入驗證功能</span>
  <span class="token key atrule">htpasswd</span><span class="token punctuation">:</span>
    <span class="token key atrule">realm</span><span class="token punctuation">:</span> basic<span class="token punctuation">-</span>realm
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /etc/docker/registry/htpasswd</span></span></span></code></pre><h2 id="https://www.notion.so/684c82753d3e4b7fac84a2d7b6115caa" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/684c82753d3e4b7fac84a2d7b6115caa"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Docker Registry UI</span></span></h2><div id="https://www.notion.so/f042c1b02f24469188e12416fa3b59f6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">筆者另外推薦 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/Joxit/docker-registry-ui">docker-registry-ui</a></span><span class="SemanticString"> 作為使用者介面，方便查看自己推送到私有 Docker Registry 的 Images。</span></span></p></div><h2 id="https://www.notion.so/555b5906d4a74d91b44b11973e29a9f5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/555b5906d4a74d91b44b11973e29a9f5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">docker-compose.yaml</span></span></h2><pre id="https://www.notion.so/d8936b651ed44564a499b938d11f1e82" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">registry</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">image</span><span class="token punctuation">:</span> registry<span class="token punctuation">:</span><span class="token number">2</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> registry
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> 5000<span class="token punctuation">:</span><span class="token number">5000</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ./docker<span class="token punctuation">-</span>registry<span class="token punctuation">:</span>/var/lib/registry
    <span class="token punctuation">-</span> ./registry<span class="token punctuation">-</span>config/config.yml<span class="token punctuation">:</span>/etc/docker/registry/config.yml
    <span class="token punctuation">-</span> ./registry<span class="token punctuation">-</span>config/htpasswd<span class="token punctuation">:</span>/etc/docker/registry/htpasswd
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token key atrule">extnetwork</span><span class="token punctuation">:</span>
        <span class="token key atrule">ipv4_address</span><span class="token punctuation">:</span> 172.28.0.20

  <span class="token key atrule">registry-ui</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">image</span><span class="token punctuation">:</span> joxit/docker<span class="token punctuation">-</span>registry<span class="token punctuation">-</span>ui<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> registry<span class="token punctuation">-</span>ui
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> 5001<span class="token punctuation">:</span><span class="token number">80</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> REGISTRY_TITLE=Chinlin's Private Docker Registry
    <span class="token punctuation">-</span> NGINX_PROXY_PASS_URL=http<span class="token punctuation">:</span>//registry<span class="token punctuation">:</span><span class="token number">5000</span>
    <span class="token punctuation">-</span> SGINLE_REGISTRY=true
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> registry
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token key atrule">extnetwork</span><span class="token punctuation">:</span>
        <span class="token key atrule">ipv4_address</span><span class="token punctuation">:</span> 172.28.0.21

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">extnetwork</span><span class="token punctuation">:</span>
    <span class="token key atrule">ipam</span><span class="token punctuation">:</span>
      <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">subnet</span><span class="token punctuation">:</span> 172.28.0.0/16</span></span></span></code></pre><h2 id="https://www.notion.so/33afbf3eecac4a27aef833af9f13dddf" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/33afbf3eecac4a27aef833af9f13dddf"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">部屬</span></span></h2><pre id="https://www.notion.so/c472216be2fd4e07b7b245d346416704" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">docker-compose</span> up</span></span></span></code></pre><h2 id="https://www.notion.so/d28df0a97f2746cbaad519ceea27fb24" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/d28df0a97f2746cbaad519ceea27fb24"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">結果</span></span></h2><div id="https://www.notion.so/3682a359017b42248e8dc600bd8cbe14" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果有架成功，進到 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://localhost:5001">http://localhost:5001</a></span><span class="SemanticString"> 就可以看到 Docker Registry UI 了唷！</span></span></p></div><div id="https://www.notion.so/8081b7965feb45118d3ac8342e7fbda8" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F15d26806-e0c9-41a8-ab5a-3e3eaeabc378%2FUntitled.png?width=1918&amp;table=block&amp;id=8081b796-5feb-4511-8d3a-c8342e7fbda8"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F15d26806-e0c9-41a8-ab5a-3e3eaeabc378%2FUntitled.png?width=1918&amp;table=block&amp;id=8081b796-5feb-4511-8d3a-c8342e7fbda8" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">圖 1 Docker Registry UI</span></span></figcaption></figure></div><h1 id="https://www.notion.so/7dced882e75440649778ef4c4546bb8a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/7dced882e75440649778ef4c4546bb8a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Part 2：推送 Image 到私有的 Docker registry</span></span></h1><div id="https://www.notion.so/f0637678bce14dca8375cd8fc28fe46c" class="ColorfulBlock ColorfulBlock--BgBlue Callout"><div class="Callout__Icon"><div class="Icon">ℹ️</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">如果您已經有要推送的 Image， 您可以跳到 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="yei9Oo.html#https://www.notion.so/9d329b8ea0f14f1aa34d9cfa3af1590a">推送 </a></span><span class="SemanticString">的部分。</span></span></p></div><div id="https://www.notion.so/c8450db68ba549f094de5ae5a9f7013e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">這裡使用筆者用 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">C#</code></span><span class="SemanticString"> 實作的 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/Chinlinlee/FHIR-Validator-API">FHIR-Validator-API</a></span><span class="SemanticString"> 作為範例。</span></span></p></div><h2 id="https://www.notion.so/4e254f7a9dea424fa5b409c97aee87bc" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4e254f7a9dea424fa5b409c97aee87bc"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">複製專案</span></span></h2><pre id="https://www.notion.so/ad990ea7f70b4fac9fffcf884a7a0c99" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">git</span> clone https://github.com/Chinlinlee/FHIR-Validator-API.git</span></span></span></code></pre><h2 id="https://www.notion.so/42c91dcd36504bf49f7affa52b99740d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/42c91dcd36504bf49f7affa52b99740d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">直接部屬</span></span></h2><div id="https://www.notion.so/b11c94fc65f64c538226a0d8485a253c" class="ColorfulBlock ColorfulBlock--BgBlue Callout"><div class="Callout__Icon"><div class="Icon">ℹ️</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">決定直接部屬而不使用 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">build</strong></span><span class="SemanticString"> 是因為想順便測試專案可以正常運作。</span></span></p></div><pre id="https://www.notion.so/d02b749c83174734a8100456a5f45296" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token builtin class-name">cd</span> FHIR-Validator-API <span class="token operator">&amp;&amp;</span> <span class="token function">docker-compose</span> up</span></span></span></code></pre><div id="https://www.notion.so/f0c07bf0b8bf48529667c98a5e23e0d3" class="ColorfulBlock ColorfulBlock--BgOrange Callout"><div class="Callout__Icon"><div class="Icon">⚠️</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">注意！ 此專案內的 docker-compose.yaml 與上面設定的 network 衝突，請記得修改或合併。</strong></span></span></p></div><h2 id="https://www.notion.so/dd40f1564d2c4545ba5ed9d5e1518c89" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/dd40f1564d2c4545ba5ed9d5e1518c89"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">部屬結果</span></span></h2><h3 id="https://www.notion.so/b05300129a294bc9814d58b1a33722ca" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/b05300129a294bc9814d58b1a33722ca"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Container</span></span></h3><div id="https://www.notion.so/3df5fec74eb342e384441669e21c6d96" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果看到</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">圖2</code></span><span class="SemanticString">就代表有 container 啟動成功囉！</span></span></p></div><div id="https://www.notion.so/5a4b142891a3492c9fb23ec3d4e9cc59" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3e102f0d-7cd6-4a44-b6c9-b30a29afdd58%2FUntitled.png?width=731&amp;table=block&amp;id=5a4b1428-91a3-492c-9fb2-3ec3d4e9cc59"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3e102f0d-7cd6-4a44-b6c9-b30a29afdd58%2FUntitled.png?width=731&amp;table=block&amp;id=5a4b1428-91a3-492c-9fb2-3ec3d4e9cc59" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">圖 2 FHIR-Validator-API 順利啟動</span></span></figcaption></figure></div><h3 id="https://www.notion.so/8402fb93bcd647d39be06ea9f72921a6" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/8402fb93bcd647d39be06ea9f72921a6"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Image</span></span></h3><div id="https://www.notion.so/257d0d0a090a4bf1a2715fcc353fd9dd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">圖3</code></span><span class="SemanticString">是要推送的 Image</span></span></p></div><div id="https://www.notion.so/cab250a936b7437389df1bc4e1542c00" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F98027289-d71b-4ae5-ac1d-0f20990a821f%2FUntitled.png?width=810&amp;table=block&amp;id=cab250a9-36b7-4373-89df-1bc4e1542c00"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F98027289-d71b-4ae5-ac1d-0f20990a821f%2FUntitled.png?width=810&amp;table=block&amp;id=cab250a9-36b7-4373-89df-1bc4e1542c00" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">圖3 FHIR-Validator-API 的 Image</span></span></figcaption></figure></div><h2 id="https://www.notion.so/9d329b8ea0f14f1aa34d9cfa3af1590a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/9d329b8ea0f14f1aa34d9cfa3af1590a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">推送</span></span></h2><h3 id="https://www.notion.so/20a24202e04f4528bc05047939f0554e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/20a24202e04f4528bc05047939f0554e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">幫 Image 標記 Tag</span></span></h3><div id="https://www.notion.so/9f4d3531d56f4521bd4be36f2939bba3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">首先要幫 Image 作上到 Docker Registry 所需的 Tag</span></span></p></div><pre id="https://www.notion.so/42e6ad6580e9411794847d21cd75dd45" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">docker</span> tag fhir-validator-api_burni-firely-validator localhost:5000/fhir-validator-api</span></span></span></code></pre><h3 id="https://www.notion.so/f6aa25271c9f47a08e828c96140881bd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f6aa25271c9f47a08e828c96140881bd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Push Image </span></span></h3><div id="https://www.notion.so/5e8411ac4531478da84218bf205ca1e4" class="ColorfulBlock ColorfulBlock--BgOrange Callout"><div class="Callout__Icon"><div class="Icon">⚠️</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">注意！進行 Push 前請記得登入 docker</span></span></p></div><div id="https://www.notion.so/900cd498ee5743f78c2ac14d17a0060f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Login</strong></span></span></p></div><pre id="https://www.notion.so/42c386881c674bd49cdc229b9096a1fb" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">docker</span> login localhost:5000</span></span></span></code></pre><div id="https://www.notion.so/951f1044595d42b184969b372aab160e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Push</strong></span></span></p></div><pre id="https://www.notion.so/ef1d5a2d958d4d6eb4e4ddbf533684b7" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">docker</span> push localhost:5000/fhir-validator-api</span></span></span></code></pre><h2 id="https://www.notion.so/f8548ea737cd492185ae0a9f94580bab" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/f8548ea737cd492185ae0a9f94580bab"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">推送結果</span></span></h2><div id="https://www.notion.so/04f1e96011a344b9ab3ad184838aafe9" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffa9bf2cd-f1f5-4f86-abcc-4c2b5b2b8b4c%2FUntitled.png?width=805&amp;table=block&amp;id=04f1e960-11a3-44b9-ab3a-d184838aafe9"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffa9bf2cd-f1f5-4f86-abcc-4c2b5b2b8b4c%2FUntitled.png?width=805&amp;table=block&amp;id=04f1e960-11a3-44b9-ab3a-d184838aafe9" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">圖4 Push 的 command line 結果</span></span></figcaption></figure></div><div id="https://www.notion.so/8fbd7af2c63f41e5a5d33af95bc03e3d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Docker Registry UI 也可以看到 Image 出現囉！</span></span></p></div><div id="https://www.notion.so/06149324285141859b19bdebb955e948" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc324883b-e6d5-45f0-b848-f64d3fa93b02%2FUntitled.png?width=1904&amp;table=block&amp;id=06149324-2851-4185-9b19-bdebb955e948"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc324883b-e6d5-45f0-b848-f64d3fa93b02%2FUntitled.png?width=1904&amp;table=block&amp;id=06149324-2851-4185-9b19-bdebb955e948" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">圖5 Docker Registry UI 主頁面 Push 結果</span></span></figcaption></figure></div><div id="https://www.notion.so/1598fdb5167e4a90a16e97f21ada2394" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1619b52a-6e8d-433d-bb52-b1f298b244c9%2FUntitled.png?width=1537&amp;table=block&amp;id=1598fdb5-167e-4a90-a16e-97f21ada2394"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1619b52a-6e8d-433d-bb52-b1f298b244c9%2FUntitled.png?width=1537&amp;table=block&amp;id=1598fdb5-167e-4a90-a16e-97f21ada2394" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">圖6 Docker Registry UI Image 點進去的內容</span></span></figcaption></figure></div><h1 id="https://www.notion.so/da54239e63994ab0a4cde5fb6ddc73ad" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/da54239e63994ab0a4cde5fb6ddc73ad"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Part 3：使用另一台電腦把 Image Pull 下來測試</span></span></h1><div id="https://www.notion.so/9b9610025af2446abff6d17d1960ab8a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">筆者有用VM架另一台電腦， IP 為 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">192.168.147.131</strong></span><span class="SemanticString">， 上面架 Docker Registry 的 IP 為 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">192.168.147.132</strong></span><span class="SemanticString">。</span></span></p></div><div id="https://www.notion.so/0f4e281bef9446b99bd8ffa7ded6d6d8" class="ColorfulBlock ColorfulBlock--BgBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">您也可以在本地把 Image 刪除在 pull 下來測試。</span></span></p></div><h2 id="https://www.notion.so/ce33c6b643a44dfe83c0f040fa989854" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/ce33c6b643a44dfe83c0f040fa989854"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">修改 Docker 設定</span></span></h2><pre id="https://www.notion.so/c8b2b3a7d3734ec5a4b2b15bfc43f389" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">vi</span> /etc/docker/daemon.json</span></span></span></code></pre><div id="https://www.notion.so/c354f1eab0424f9d9e9597b9d355a189" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">內容如下：</span></span></p></div><pre id="https://www.notion.so/1b8b13989368423ca1c8c3733f678259" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token punctuation">{</span>
  <span class="token string-property property">"insecure-registries"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"192.168.147.132:5000"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></span></span></span></code></pre><h3 id="https://www.notion.so/9b2c88bcd84347998d9fcae2dbbb0b92" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/9b2c88bcd84347998d9fcae2dbbb0b92"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">重新啟動 Docker</span></span></h3><pre id="https://www.notion.so/a3b1f5f1893149d4b5b247f7140fe0e6" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">service</span> <span class="token function">docker</span> restart</span></span></span></code></pre><h2 id="https://www.notion.so/e0a8d025a8284447968a9c25b2bfa5ef" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e0a8d025a8284447968a9c25b2bfa5ef"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">登入 Docker</span></span></h2><pre id="https://www.notion.so/9eb59582e69f42e9a29f59b81b7b062d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">docker</span> login </span></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><span><span class="token number">192.168</span>.147.132:5000</span></strong></span></span></code></pre><h2 id="https://www.notion.so/648cef09cc724a1babdd8dc9e9cbc8be" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/648cef09cc724a1babdd8dc9e9cbc8be"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Pull Image</span></span></h2><pre id="https://www.notion.so/d56af83c181042e584de1bf623f40c49" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">docker</span> pull <span class="token number">192.168</span>.147.132:5000/fhir-validator-api</span></span></span></code></pre><div id="https://www.notion.so/2af8b84538cb40f592f3747d619fc9b9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Pull 結果， 可以看到 Downloaded newer image 以及使用 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">docker images</code></span><span class="SemanticString"> 看到私有的 Image 囉！</span></span></p></div><div id="https://www.notion.so/080ba427c57d40ebac4183dd77704bb6" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F16401cc2-7f7c-4a00-87bc-74979f3e594d%2FUntitled.png?width=695&amp;table=block&amp;id=080ba427-c57d-40eb-ac41-83dd77704bb6"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F16401cc2-7f7c-4a00-87bc-74979f3e594d%2FUntitled.png?width=695&amp;table=block&amp;id=080ba427-c57d-40eb-ac41-83dd77704bb6" style="width:695px"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">圖7 Pull private registry image 結果</span></span></figcaption></figure></div><h2 id="https://www.notion.so/d4474d58a4e14cb39d5eed30440a44ae" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/d4474d58a4e14cb39d5eed30440a44ae"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">測試</span></span></h2><pre id="https://www.notion.so/3faa9e245d764d32a4790cc470bae38c" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">docker</span> run <span class="token number">192.168</span>.147.132:5000/fhir-validator-api</span></span></span></code></pre><h3 id="https://www.notion.so/09b26547c79041fc8c4c9d59d6c9b414" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/09b26547c79041fc8c4c9d59d6c9b414"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">執行結果</span></span></h3><div id="https://www.notion.so/eab41b1ed6e14826a0286b4bee2c6c4e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">可以看到 Image 運作正常囉！讚讚</span></span></p></div><div id="https://www.notion.so/100186efbdf54312b35defef95d4ad7d" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F85d74dda-3e40-41b7-9b89-38726e45eeab%2FUntitled.png?width=679&amp;table=block&amp;id=100186ef-bdf5-4312-b35d-efef95d4ad7d"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F85d74dda-3e40-41b7-9b89-38726e45eeab%2FUntitled.png?width=679&amp;table=block&amp;id=100186ef-bdf5-4312-b35d-efef95d4ad7d" style="width:679px"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">圖8 private registry image run 結果</span></span></figcaption></figure></div><div id="https://www.notion.so/ae236346449e4cba87c8b731eb4e9616" class="ColorfulBlock ColorfulBlock--BgGreen Callout"><div class="Callout__Icon"><div class="Icon">👀</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">雖然 Image 運作正常但別忘了自己測試裡面的功能是否可以使用喔！</span></span></p></div><h1 id="https://www.notion.so/22fe9f50440d4219995be1b8aa842fcd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/22fe9f50440d4219995be1b8aa842fcd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">參考資料</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/36c14303709d440b85ff3ea300b618c9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://docs.docker.com/registry/deploying/">Deploy a registry server</a></span></span></li><li id="https://www.notion.so/ad3933f236494cd2a57207be209a53cf" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/Joxit/docker-registry-ui">docker-registry-ui</a></span></span></li><li id="https://www.notion.so/ebe92b494b684d4896cdac7f9ebac044" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://ithelp.ithome.com.tw/articles/10191213">Day7：建立 private 的 Docker Registry</a></span></span></li></ul><div id="https://www.notion.so/4d68f34c601c42f5b04fd330e585f5a9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
<br />
<script src="https://utteranc.es/client.js"
  repo="Chinlinlee/Chinlinlee.github.io"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>
  <footer class="Footer">
  <div>&copy; ChinLin’s Blog 2021-2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>
<script src="./scripts/code-copy.js"></script>
<script type="text/javascript" src="./scripts/table-of-contents-sidebar-lib/table-of-contents-sidebar.min.js"></script>
<script type="text/javascript">
    window.onload = function(e){
        TableOfContents.init({
            basePath: "./scripts/table-of-contents-sidebar-lib/",
            querySelector: "body" // or other css querySelector
        });
    }
</script>