<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🐅&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>重啟北護課程查詢系統 Day 2 - Fastify-HTMX-EJS-Tailwind&nbsp;|&nbsp;ChinLin’s Blog</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="重啟北護課程查詢系統 Day 2 - Fastify-HTMX-EJS-Tailwind">
  
    <meta name="description" content="北護課程查詢系統能復活嗎? Day 2 專案結構">
    <meta property="og:description" content="北護課程查詢系統能復活嗎? Day 2 專案結構">
  
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🐅&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2529def0-9031-44bd-94d3-e6da4b9e887c%2F%E5%86%A0%E8%B2%93%E6%80%9D%E8%80%83.png?table=block&amp;id=721d7aeb-cf52-4f6f-9a86-648e0e7bfcb1"></span>&nbsp;
          
          <span>關於我</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
    <h1 class="Header__Title">重啟北護課程查詢系統 Day 2 - Fastify-HTMX-EJS-Tailwind</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Fri, Feb 16, 2024</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--green">
            <a href="tag/Node.JS.html">Node.JS</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--green">
            <a href="tag/Web.html">Web</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--yellow">
            <a href="tag/JS.html">JS</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/95fa7d58b8f740feb204f632818cbab4" class="PageRoot"><div id="https://www.notion.so/647db5564ba94f428f7f3f6997b2406b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">經過</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://chinlinlee.github.io/restart-ntunhs-course-query-system-day-1-web-crawler.html"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">重啟北護課程查詢系統 Day 1 - 頁面爬蟲</strong></a></span><span class="SemanticString">的小試身手</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">，Day 2 要來決定如何實作網頁啦！</strong></span></span></p></div><div id="https://www.notion.so/2b42fb9f1e4d43dab3f009c95d3b6a7c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">筆者自己想要學點新的東西，所以決定使用標題打的技術來實作~~ 可能有些框架大家不是很熟悉，下面我一一的請 GPT 介紹</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/b508c50e18f248dca782bcc679b0de1b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/fastify/fastify">Fastify</a></span><span class="SemanticString">: 是一個高性能、可擴展、開發人員友好的 Node.js 後端 web server 框架。</span></span><div id="https://www.notion.so/a4a9cc4f453c492797b4cc84db7448cf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其主要特性包括：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/01b328a036954a40bfe5f834b1346d63" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">高性能：每秒可處理 3 萬個請求。</span></span></li><li id="https://www.notion.so/59ef02704a2449178507179ff92005ca" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">可擴展：通過 hook、plugin 和 decorator 提供可擴展性。</span></span></li><li id="https://www.notion.so/6b5162c8b75448848316fb406b3c77fa" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">開發人員友好：提供簡潔易用的 API 和豐富的文檔。</span></span></li></ul></li><li id="https://www.notion.so/5054f40f8a5941b2abfb9d09f077aa0e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/bigskysoftware/htmx">HTMX</a></span><span class="SemanticString">: 是一個輕量級的前端框架，旨在讓開發人員使用 HTML 和 CSS 輕鬆構建動態且交互性強的 Web 應用程序。</span></span></li><li id="https://www.notion.so/2f94049cd26b4acf9233cab2a30cb3dd" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/mde/ejs">EJS</a></span><span class="SemanticString">: 是一個 JavaScript 的模板語言，用於生成 HTML、XML、JSON 等各種文本格式的內容。</span></span><div id="https://www.notion.so/c3a8c16e0f5b46aa98fb0ab5d9643c94" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其主要特性包括：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/662d48ff4b784ac1b10fa103fa39525b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">語法簡潔易學，類似於 JavaScript。</span></span></li><li id="https://www.notion.so/9a4ac1b92e5d42f0bd1c9508e2a9201b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">支持 JavaScript 條件語句和循環等控制結構。</span></span></li><li id="https://www.notion.so/d27fe901bcf54ab78682fe36cc855dca" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">可與 Express 等 Web 框架無縫整合。</span></span></li></ul></li><li id="https://www.notion.so/cea1f686cbcc4c29b2e3930146ef2299" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/tailwindlabs/tailwindcss">Tailwind</a></span><span class="SemanticString">: 是一個 CSS 框架，旨在幫助開發人員快速構建具有現代化 UI 設計的 Web 應用程序。</span></span><div id="https://www.notion.so/768b100f25344f26b755be125530658d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其主要特性包括：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/f5f60ec3b55345b7b9506445407fa066" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">原子級 CSS：提供一系列可組合的 CSS 類，可快速構建複雜的 UI 元素。</span></span></li><li id="https://www.notion.so/aa3b2a39179543c7b754a640bc40e5a8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">響應式設計：提供響應式媒體查詢，可根據屏幕尺寸自動調整 UI 布局。</span></span></li><li id="https://www.notion.so/aebeca2f9e0044dfa4b3570977e43dcb" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">可定制性：提供主題和自定義配置，可打造個性化的 UI 設計。</span></span></li></ul></li></ul><div id="https://www.notion.so/0e62aaf6b1024422b95349ace3b166db" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/771a5991ad5d4d21b4d7ee7e8205cb17" class="ColorfulBlock ColorfulBlock--BgBlue Callout"><div class="Callout__Icon"><div class="Icon">📢</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">想少時間的大大建議可以選擇看 github 唷！
</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/ntunhs-course-ecosystem/course-hub/tree/day2">https://github.com/ntunhs-course-ecosystem/course-hub/tree/day2</a></span></span></p></div><h1 id="https://www.notion.so/4c0e87d17aa4435687c1a9bbcdfc37a0" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/4c0e87d17aa4435687c1a9bbcdfc37a0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">建立專案</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/d8a9f46cbac0455ab37d068cdc3d34fa" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在電腦找個舒適的位置創建資料夾命名為 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">course-hub</code></span></span></li><li id="https://www.notion.so/046dd5a1b8b9469fa53a35f7521f0d00" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">初始化專案</span></span></li></ul><pre id="https://www.notion.so/aaf3b29e09104c3e9fec53d1d544255c" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>pnpm init</span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/c4edbe9a84684ce68ba964de163f4416" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">記得要在 package.json 新增 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">“type”: “module”</code></span></span></li></ul><h2 id="https://www.notion.so/45fd6eaeb86a44afbe170e609151bd62" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/45fd6eaeb86a44afbe170e609151bd62"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">建立 nodejs 的 dev 腳本</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/82e3eff2f3834ecbba7276245a1f348d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">我們在開發情境下，通常會需要監看檔案是否更改，實時更新重啟專案</span></span></li><li id="https://www.notion.so/2d43da0066154c82a2060e981f24dc2f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">這時，就需要為 node.js 專案新增 scripts，達到上面提到的需求</span></span></li></ul><h3 id="https://www.notion.so/0e57ec01cd0348eebc7522937dc16991" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/0e57ec01cd0348eebc7522937dc16991"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">修改 package.json</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/80210ba6139041ddbeef04ecc64967a4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">修改 package.json，加入與 dev 相關的 scripts</span></span></li><li id="https://www.notion.so/b3ba9fe8591344c3811d6f8b6b06f7b5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">nodemonConfig</code></span><span class="SemanticString"> 則是用到 node.js 常用的重啟工具，在這邊我們只監看 server 底下的檔案</span></span></li></ul><pre id="https://www.notion.so/38770705202949d7af5409fd1530ec2d" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token punctuation">{</span>
...
	<span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"npm-run-all -p dev:*"</span><span class="token punctuation">,</span>
	    <span class="token property">"dev:fastify"</span><span class="token operator">:</span> <span class="token string">"nodemon server/server.js | pino-pretty"</span><span class="token punctuation">,</span>
	    <span class="token property">"dev:css"</span><span class="token operator">:</span> <span class="token string">"tailwindcss -i client/bundle/main.pcss -o client/public/_compiled/main.bundle.css --postcss --watch"</span><span class="token punctuation">,</span>
	    <span class="token property">"dev:js"</span><span class="token operator">:</span> <span class="token string">"esbuild client/bundle/main.js --outfile=client/public/_compiled/main.bundle.js --bundle --watch"</span><span class="token punctuation">,</span>
	    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">"nodemonConfig"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	    <span class="token property">"watch"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
	      <span class="token string">"server/"</span>
	    <span class="token punctuation">]</span>
	 <span class="token punctuation">}</span>
...
<span class="token punctuation">}</span></span></span></span></code></pre><h1 id="https://www.notion.so/bda3e3c9b68e4812b9fb9dae4342852c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/bda3e3c9b68e4812b9fb9dae4342852c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">拉出專案基本雛形</span></span></h1><pre id="https://www.notion.so/39dcfcdc86df41508b684723914db8b6" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>└─course-hub
    ├─client    
    │  └─bundle    <span class="token comment"># 儲存要進行 bundle 的檔案</span>
		│  └─public    <span class="token comment"># 儲存前端靜態內容</span>
    └─server
        ├─modules    <span class="token comment"># 放置以 Domain 為主命名的 routes</span>
        ├─plugins    <span class="token comment"># 放置 fastify plugins</span>
        ├─repository <span class="token comment"># 放置資料庫內容的地方</span>
        └─views      <span class="token comment"># 放置 EJS 前端頁面</span></span></span></span></code></pre><h1 id="https://www.notion.so/0c0437cd9812426b897d79009e899283" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/0c0437cd9812426b897d79009e899283"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">安裝基本套件</span></span></h1><div id="https://www.notion.so/13e64dc7836b49918dfe69f7ffa1bc3a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">這章節將會安裝&quot;基本”的套件，主要都是參照 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/mattwaler/fastify-starter"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">fastify-starter</strong></a></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"> </strong></span><span class="SemanticString">的套件</span></span></p></div><h2 id="https://www.notion.so/714e6c00d1ab480c9bffa4d27ed4ced3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/714e6c00d1ab480c9bffa4d27ed4ced3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">DEV 套件</span></span></h2><pre id="https://www.notion.so/ce1acc0d18cd4a24894633168c023654" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">pnpm</span> i <span class="token parameter variable">-D</span> @tailwindcss/forms esbuild npm-run-all postcss postcss-import tailwindcss tailwindcss-debug-screens prettier eslint-config-prettier prettier-plugin-ejs nodemon</span></span></span></code></pre><h2 id="https://www.notion.so/fbfe51e05b0640a198996f516d7b4661" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/fbfe51e05b0640a198996f516d7b4661"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">一般套件</span></span></h2><pre id="https://www.notion.so/bee0e2a945144e9a921110747df16731" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">pnpm</span> i @fastify/autoload @fastify/formbody @fastify/static @fastify/view @fastify/sensible @fastify/under-pressure @fastify/cors dotenv ejs fastify fastify-plugin htmx.org better-sqlite3 desm env-var close-with-grace</span></span></span></code></pre><h1 id="https://www.notion.so/cb07b2bbaca34026aef0f0eaf86868d8" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/cb07b2bbaca34026aef0f0eaf86868d8"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">初始化 tailwind</span></span></h1><h2 id="https://www.notion.so/a01b79de65834c5794a90cc79d7238a3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a01b79de65834c5794a90cc79d7238a3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">創建 tailwind config</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/35ab1ebe305b4e6e8b58f807342eb3a8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在專案根目錄創建 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">tailwind.config.cjs</code></span></span></li></ul><pre id="https://www.notion.so/5b50485af0f141f1bfd43709706a96bb" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./server/views/**/*.ejs"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token string">"2rem"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">debugScreens</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"bottom"</span><span class="token punctuation">,</span> <span class="token string">"right"</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@tailwindcss/forms"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"tailwindcss-debug-screens"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></span></span></span></code></pre><h2 id="https://www.notion.so/f8dfa3f3fd214901a244afaccf0d8d75" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/f8dfa3f3fd214901a244afaccf0d8d75"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">創建 postcss config</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/763bc993b7cf4fc0b6f7673d4b90fb8b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在專案根目錄創建 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">postcss.config.cjs</code></span></span></li></ul><pre id="https://www.notion.so/70885ea0553242d399c50e84e552a0e8" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"postcss-import"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"tailwindcss/nesting"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"tailwindcss"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></span></span></span></code></pre><div id="https://www.notion.so/4b7cbe646f9846238d9ca007ba9d85d0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/de0a35853c0d4e5da1963f2cf491ecf3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/de0a35853c0d4e5da1963f2cf491ecf3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">創建 main.css</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/d4223ce4cd4647d0a67924b007fa2a3e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在專案的 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">client/bundle</code></span><span class="SemanticString"> 創建 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">main.pcss</code></span></span></li></ul><pre id="https://www.notion.so/a2ff714910854dc4ac1a78bf0e64070d" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token atrule"><span class="token rule">@import</span> <span class="token string">"tailwindcss/base"</span><span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"tailwindcss/components"</span><span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"tailwindcss/utilities"</span><span class="token punctuation">;</span></span>

<span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span>
    <span class="token selector">html, body</span> <span class="token punctuation">{</span>
        <span class="token atrule"><span class="token rule">@apply</span> w-full overflow-x-hidden antialiased font-sans<span class="token punctuation">;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><h1 id="https://www.notion.so/8e4beaf3fa0948d8898e26008374252d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/8e4beaf3fa0948d8898e26008374252d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">創建 .prettierrc.json</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/05f216900647432d864e77c792d20eb4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在專案根目錄創建 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">.prettierrc.json</code></span><span class="SemanticString"> 規範一些 code auto format 的規則</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/6bf40e9717aa49babb8b3e031f689f4b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><code class="SemanticString__Fragment SemanticString__Fragment--Code">trailingComma</code></strong></span><span class="SemanticString">: 函數參數、Object 的最後一個元素後面不會有逗號</span></span></li><li id="https://www.notion.so/6f7c7971684b4755a74e3d48f30aa954" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><code class="SemanticString__Fragment SemanticString__Fragment--Code">tabWidth</code></strong></span><span class="SemanticString">: 這個選項控制一個 tab 字符的寬度，以空格為單位，此處設置為 4，表示一個 tab 字符等於 4 個空格</span></span></li><li id="https://www.notion.so/1cda737525a649c5950cf65883c4aa1d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><code class="SemanticString__Fragment SemanticString__Fragment--Code">semi</code></strong></span><span class="SemanticString">: 最後使用分號</span></span></li><li id="https://www.notion.so/860ca7c84bcd4642b202d193ea22715b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">singleQuote</strong></code></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">: </strong></span><span class="SemanticString">這個選項控制是否使用單引號 ’’，設置為 false 表示使用雙引號 “”</span></span></li><li id="https://www.notion.so/a94bd49e3aa042508e230fc67bf63f77" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">quoteProps</strong></code></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">: </strong></span><span class="SemanticString">property 的雙引號使用要一致</span></span></li><li id="https://www.notion.so/6e2c430b429346b3945f07e4c9c0f0d9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">設置 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">prettier-plugin-ejs</code></span><span class="SemanticString"> 讓 vscode 可以自動格式化 ejs 程式碼</span></span></li></ul></li></ul><pre id="https://www.notion.so/eb68f2537e064f29824e0b2ebaabc9a7" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token punctuation">{</span>
    <span class="token string">"trailingComma"</span><span class="token builtin class-name">:</span> <span class="token string">"none"</span>,
    <span class="token string">"tabWidth"</span><span class="token builtin class-name">:</span> <span class="token number">4</span>,
    <span class="token string">"semi"</span><span class="token builtin class-name">:</span> true,
    <span class="token string">"singleQuote"</span><span class="token builtin class-name">:</span> false,
    <span class="token string">"quoteProps"</span><span class="token builtin class-name">:</span> <span class="token string">"consistent"</span>,
    <span class="token string">"plugins"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token string">"prettier-plugin-ejs"</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></span></span></span></code></pre><h1 id="https://www.notion.so/bf72c1550cb643b794f14133ce3afeaa" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/bf72c1550cb643b794f14133ce3afeaa"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">創建 .eslintrc</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/96f3ab8e89804637b1ce7281fd445504" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在專案根目錄創建 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">.eslintrc</code></span><span class="SemanticString"> 以便透過靜態分析程式碼</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/60b8d90c6220429bbecc67f4c900a982" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">parserOptions</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/9990e05430ee474f91e17f7750b20f7c" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">ecmaVersion</code></span><span class="SemanticString">: 指定要使用的語言規範版本，這邊使用 ES2022</span></span></li><li id="https://www.notion.so/124b1c777cb34a97ba678aa432c823c3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sourceType</code></span><span class="SemanticString"> : 指定程式碼類型，這邊使用 module</span></span></li></ul></li><li id="https://www.notion.so/863ab68b27d24cfea14cb083f2a63f13" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">env</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/b7bb086e76324ab98e0bbf2a22d95f9b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">browser</code></span><span class="SemanticString">: 啟用與瀏覽器相關的規則</span></span></li><li id="https://www.notion.so/556efc95e00a42eb81a737da079ee963" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">node</code></span><span class="SemanticString">: 啟用與 Node.js 相關的規則</span></span></li><li id="https://www.notion.so/284f38357b4d40c2b0a470c55a7b3daf" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">es2022</code></span><span class="SemanticString">: 啟用與 ES2022 語法相關的規則</span></span></li></ul></li><li id="https://www.notion.so/a9296cf5728e4ce6951931f1ae61a0b7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">extends</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/6a29c6049e9b4ea7994dedbe441c04a6" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">eslint:recommended</code></span><span class="SemanticString"> : 使用 eslint 內建推薦的規則</span></span></li><li id="https://www.notion.so/0a3b3389289748c78ac5ba50d7162999" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">prettier</code></span><span class="SemanticString">: 使用 prettier 提供的規則</span></span></li></ul></li><li id="https://www.notion.so/c79fbf42709a4f71844f6ac919d78fa4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">rules</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/30ec3f28285e4506a7fa7524b4adbdd6" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">semi</code></span><span class="SemanticString">: 強制使用分號，並指定為總是使用</span></span></li><li id="https://www.notion.so/898b90682d61410fb8801f4dc5ec99a7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">comma-dangle</code></span><span class="SemanticString">: 禁止尾逗號，即函數參數、Object 的最後一個元素後面不應該有逗號</span></span></li><li id="https://www.notion.so/ad9bf1e6c2d743faa82f8bbaf96e97ce" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">no-unused-vars</code></span><span class="SemanticString">: 關閉禁止未使用變量的規則</span></span></li><li id="https://www.notion.so/8a5d9d2f097a4ad4af3eba3ad77d9507" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">no-console</code></span><span class="SemanticString">: 允許使用 console 對象（警告級別降低為 0）</span></span></li><li id="https://www.notion.so/21099097e876407a8e4e07c330dcbe1a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">no-useless-escape</code></span><span class="SemanticString">: </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">關閉</strong></span><span class="SemanticString">禁止不必要的轉義字符的規則</span></span></li><li id="https://www.notion.so/c856fcc3fbb9481a89027bad22e52b63" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">no-useless-catch</code></span><span class="SemanticString">: </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">關閉</strong></span><span class="SemanticString">禁止無用的 catch 塊的規則</span></span></li><li id="https://www.notion.so/49aa48ca55894b8e85113b8bbc5aff7a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">no-var</code></span><span class="SemanticString">: 禁止使用 var 聲明變數，強制使用 let 和 const</span></span></li><li id="https://www.notion.so/dea1523a30684f068397acb8fc589137" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">no-control-regex</code></span><span class="SemanticString">: 關閉禁止使用控制字符的正則表達式的規則 (ASCII 0~31)。</span></span></li></ul></li></ul></li></ul><div id="https://www.notion.so/292168d8e8c24455927b7d0c3fa6ee78" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><pre id="https://www.notion.so/86a367fd27134a0190bb403e04e8cbce" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token punctuation">{</span>
    <span class="token string">"parserOptions"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">"ecmaVersion"</span><span class="token builtin class-name">:</span> <span class="token number">2022</span>,
        <span class="token string">"sourceType"</span><span class="token builtin class-name">:</span> <span class="token string">"module"</span>
    <span class="token punctuation">}</span>,
    <span class="token string">"env"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">"browser"</span><span class="token builtin class-name">:</span> true,
        <span class="token string">"node"</span><span class="token builtin class-name">:</span> true,
        <span class="token string">"es2022"</span><span class="token builtin class-name">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>,
    <span class="token string">"extends"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"eslint:recommended"</span>, <span class="token string">"prettier"</span><span class="token punctuation">]</span>,
    <span class="token string">"rules"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">"semi"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span>, <span class="token string">"always"</span><span class="token punctuation">]</span>,
        <span class="token string">"comma-dangle"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span>, <span class="token string">"never"</span><span class="token punctuation">]</span>,
        <span class="token string">"no-unused-vars"</span><span class="token builtin class-name">:</span> <span class="token string">"off"</span>,
        <span class="token string">"no-console"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
        <span class="token string">"no-useless-escape"</span><span class="token builtin class-name">:</span> <span class="token string">"off"</span>,
        <span class="token string">"no-useless-catch"</span><span class="token builtin class-name">:</span> <span class="token string">"off"</span>,
        <span class="token string">"no-var"</span><span class="token builtin class-name">:</span> <span class="token string">"error"</span>,
        <span class="token string">"no-control-regex"</span><span class="token builtin class-name">:</span> <span class="token string">"off"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/f57b9482f6cd4c8bb7c1668be3af6cad" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/8630bc67ca11478283d697bb24a2fa1b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/8630bc67ca11478283d697bb24a2fa1b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">渲染第一個 Hello World 頁面</span></span></h1><div id="https://www.notion.so/b18429f10f684099acf7925a978767a5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">因為筆者是第一次接觸這個架構，所以就先鎖定在 Hello World 吧！</span></span></p></div><h2 id="https://www.notion.so/135a4f94823440f59b9f96d8bf59d596" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/135a4f94823440f59b9f96d8bf59d596"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">後端</span></span></h2><h3 id="https://www.notion.so/b28a3a85d5734d89b44a26cef9205730" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/b28a3a85d5734d89b44a26cef9205730"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">.env</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/5552eed5a0fc4d25b0ebdd4d2d8c2754" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在專案根目錄新建 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">.env</code></span><span class="SemanticString"> 檔案</span></span></li></ul><pre id="https://www.notion.so/0ab4354d386d409a956ac9ed16e1e122" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>SERVER_HOST=<span class="token string">"0.0.0.0"</span>
SERVER_PORT=3000</span></span></span></code></pre><h3 id="https://www.notion.so/ddf434b1563d4673ab8acacbd1352a94" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ddf434b1563d4673ab8acacbd1352a94"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">server/app.js</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/a412afe0c2324112ac19a20977f62be8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在專案目錄的 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">server</code></span><span class="SemanticString"> 資料夾新建 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">app.js</code></span><span class="SemanticString"> 檔案</span></span></li></ul><pre id="https://www.notion.so/d8fe700220a3426b8bb7332dadf841b6" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> fasitfy <span class="token keyword">from</span> <span class="token string">"fastify"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> autoLoad <span class="token keyword">from</span> <span class="token string">"@fastify/autoload"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> join <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"desm"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">buildApp</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">fasitfy</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>autoLoad<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token string">"plugins"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>autoLoad<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token string">"modules"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">encapsulate</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxDepth</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> app<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/** @type {import("fastify").FastifyServerOptions} */</span>
<span class="token keyword">const</span> appOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">logger</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">level</span><span class="token operator">:</span> <span class="token string">"info"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">// 我們希望只有在有人監看(開發)時才使用 pino-pretty</span>
<span class="token comment">// 否則我們將以換行分隔的 JSON 形式進行記錄，以便輸入至 log 專用的 tool</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>isTTY<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    appOptions<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>transport <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">"pino-pretty"</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">await</span> <span class="token function">buildApp</span><span class="token punctuation">(</span>appOptions<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><h3 id="https://www.notion.so/2df3b02d3da141e2bf6c2f0ae2e7a93b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/2df3b02d3da141e2bf6c2f0ae2e7a93b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">server/env-class.js</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/92ee2d8decf040e68ee4b44aa9c648b8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在專案目錄的 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">server</code></span><span class="SemanticString"> 資料夾新建 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">env-class.js</code></span><span class="SemanticString"> 檔案</span></span></li></ul><pre id="https://www.notion.so/90f39a666d0148eda9c30b2ef2ebadc8" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment">// 抓取 env 的設定</span>
<span class="token comment">// 使用 env-var 來驗證以及針對數值轉換 env 的設定</span>

<span class="token keyword">import</span> envVar <span class="token keyword">from</span> <span class="token string">"env-var"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> dotenv <span class="token keyword">from</span> <span class="token string">"dotenv"</span><span class="token punctuation">;</span>

dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">ServerEnv</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">host</span><span class="token operator">:</span> envVar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"SERVER_HOST"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> envVar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"SERVER_PORT"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asPortNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></span></span></span></code></pre><h3 id="https://www.notion.so/a5e842f1077e48a2bbd5e43f78680a42" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/a5e842f1077e48a2bbd5e43f78680a42"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">server/plugins/</span></span></h3><div id="https://www.notion.so/1f9b101f27214c08a8104d9477eaa35e" class="ColorfulBlock ColorfulBlock--BgBlue Callout"><div class="Callout__Icon"><div class="Icon">👉🏻</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">以下檔案都會建立在 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">server/plugins</code></span><span class="SemanticString"> 內</span></span></p></div><div id="https://www.notion.so/986ee25c1ba446068946cee1d90e923a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/10d775a9fde840dea5cb20e536cbd6d7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">cors.js</code></span></span></li></ul><pre id="https://www.notion.so/1817a91f674149ad9b9c8162fa3de7dc" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> fp <span class="token keyword">from</span> <span class="token string">"fastify-plugin"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> cors <span class="token keyword">from</span> <span class="token string">"@fastify/cors"</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">createCorsPlugin</span><span class="token punctuation">(</span><span class="token parameter">fastify<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fastify<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>cors<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">fp</span><span class="token punctuation">(</span>createCorsPlugin<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"cors"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/2a1f61ee4cdc48f1a506cef1487936a3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">formBody.js</code></span></span></li></ul><pre id="https://www.notion.so/8c6de2b0795e4baf89003f699bf352b3" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> fp <span class="token keyword">from</span> <span class="token string">"fastify-plugin"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> formBody <span class="token keyword">from</span> <span class="token string">"@fastify/formbody"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">fp</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">fastify<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">{</span>
    fastify<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>formBody<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"form-body"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/c17dbbef1b8b4a9b8841c10793aaae0e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sensible.js</code></span></span></li></ul><pre id="https://www.notion.so/a7fad8e7f625428c8bbe5184d2ffbd9b" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> fp <span class="token keyword">from</span> <span class="token string">"fastify-plugin"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> sensible <span class="token keyword">from</span> <span class="token string">"@fastify/sensible"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">fp</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">fastify<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> fastify<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>sensible<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"sensible"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/04a67c83143c47819e952adeec72a11c" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">static.js</code></span></span></li></ul><pre id="https://www.notion.so/9eea3154ca714646a299b6a64c1e9330" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> fp <span class="token keyword">from</span> <span class="token string">"fastify-plugin"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> join <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"desm"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> fStatic <span class="token keyword">from</span> <span class="token string">"@fastify/static"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">fp</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">fastify<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    fastify<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>fStatic<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token string">"../../client/public"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"f-static"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/f65052b39b0342a98a42b4615bef45b4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">under-pressure.js</code></span></span></li></ul><pre id="https://www.notion.so/c06ef9ed61674a02bc14d1004c3f2725" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> fp <span class="token keyword">from</span> <span class="token string">"fastify-plugin"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> underPressure <span class="token keyword">from</span> <span class="token string">"@fastify/under-pressure"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">fp</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">fastify<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 這個 plugin 會在你的應用程序處於高負載時特別有用
     * 你如果有使用 express 或其餘的 web framework，你會發現 1 秒一起發送上萬個 request 可能會造成 timeout 的問題
     * 此 plugin 會根據 nodejs event loop, heap memory, rss memory (Resident set size, 作業系統分配到application的記憶體)的狀況(過度壓力無法處裡)來響應 503 (Server Unavailable) 狀態
     */</span>
    <span class="token keyword">await</span> fastify<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>underPressure<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">maxEventLoopDelay</span><span class="token operator">:</span> <span class="token number">1e3</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxHeapUsedBytes</span><span class="token operator">:</span> <span class="token number">1e9</span><span class="token punctuation">,</span> <span class="token comment">// 約 1GB</span>
        <span class="token literal-property property">maxRssBytes</span><span class="token operator">:</span> <span class="token number">1e9</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxEventLoopUtilization</span><span class="token operator">:</span> <span class="token number">0.98</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"under-pressure"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/cbdeeaa46cc447a48eb2110e42924f7f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">view-engine.js</code></span></span></li></ul><pre id="https://www.notion.so/dde0171041d94efd96eaee7628898590" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> fp <span class="token keyword">from</span> <span class="token string">"fastify-plugin"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> join <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"desm"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> fView <span class="token keyword">from</span> <span class="token string">"@fastify/view"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ejs <span class="token keyword">from</span> <span class="token string">"ejs"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">fp</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">fastify<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    fastify<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>fView<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">engine</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">ejs</span><span class="token operator">:</span> ejs
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token string">"../views"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"view-engine"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><h3 id="https://www.notion.so/005ba130ef694a62bd2e2cdc1bfd317a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/005ba130ef694a62bd2e2cdc1bfd317a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">server/module/</span></span></h3><div id="https://www.notion.so/f760675b236d48a688ad0d5edf022de4" class="ColorfulBlock ColorfulBlock--BgBlue Callout"><div class="Callout__Icon"><div class="Icon">👉🏻</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">以下檔案都會建立在 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">server/module</code></span><span class="SemanticString"> 內</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/937b370c26ff4254bdea9a4049a7324e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">home.js</code></span></span></li></ul><pre id="https://www.notion.so/fb9f0d036ffe4d26ad7bf99dc004b05c" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment">/**
 * 
 * @param {import("fastify").FastifyInstance} fastify 
 * @param {import("fastify").FastifyPluginOptions} opts 
 */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">fastify<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fastify<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> reply</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> reply<span class="token punctuation">.</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token string">"components/layout"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">"../home"</span><span class="token punctuation">,</span>
                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><h3 id="https://www.notion.so/ce11c337c1d34b0883585c0dd1e81f7a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ce11c337c1d34b0883585c0dd1e81f7a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">server/views/</span></span></h3><div id="https://www.notion.so/6344ab7cfc01429eab9b29e1674764d8" class="ColorfulBlock ColorfulBlock--BgBlue Callout"><div class="Callout__Icon"><div class="Icon">👉🏻</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">以下檔案都會建立在 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">server/views</code></span><span class="SemanticString"> 內</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/d82be31791784996b4039e80075331b0" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">compoments/head.ejs</code></span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/82db5eb03d8248a39ef418755d58f1f1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">建立可重複使用的 head</span></span></li></ul></li></ul><pre id="https://www.notion.so/ab1660e622a4494e900235a295e0a69f" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token operator">&lt;</span>head<span class="token operator">></span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"utf-8"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"X-UA-Compatible"</span> content<span class="token operator">=</span><span class="token string">"IE=edge"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%=</span> title <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>title<span class="token operator">></span><span class="token constant">NTUNHS</span> CourseHub<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"description"</span> content<span class="token operator">=</span><span class="token string">""</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>link href<span class="token operator">=</span><span class="token string">"/_compiled/main.bundle.css"</span> rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>script defer src<span class="token operator">=</span><span class="token string">"/_compiled/main.bundle.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/ce78a441ec26421894063e838127b29b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">compoments/layout.ejs</code></span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/babd7c6c36b745e1a2284736bf019b53" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">建立可重複使用的 body</span></span></li></ul></li></ul><pre id="https://www.notion.so/be7e88069b654a66b6a82f17c9b10235" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
    &lt;%- include("components/head.ejs", {title: "NTUNHS CourseHub | Home"}) %>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">hx-boost</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        &lt;%- include(page.file, page.data) %>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/49131925c2ce4fd1bdc5012a8ae8c658" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">home.js</code></span></span></li></ul><pre id="https://www.notion.so/308b17ea6ac04b05a41bf7382b25e2cf" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-3xl font-bold underline<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hello world!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span></span></span></code></pre><h2 id="https://www.notion.so/7c2f5081a9d6449e8268731463ae3457" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/7c2f5081a9d6449e8268731463ae3457"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">訪問網頁</span></span></h2><h3 id="https://www.notion.so/c986f45b8504474490b336cb003fc9ca" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/c986f45b8504474490b336cb003fc9ca"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">啟動專案</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/bb32c18aad1f4adf90a795427b03c0c1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">要訪問網頁，第一步當然是啟動專案啦！</span></span></li><li id="https://www.notion.so/bcecdd313361482eab3848a967243dab" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">因為我們處於開發階段，所以這邊是運行 dev 的腳本</span></span></li><li id="https://www.notion.so/0751c51acee146268f7d383c3c784cc4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">另外，我們有安裝 npm-run-all 以及設定好所有 dev 需要的腳本了</span></span></li><li id="https://www.notion.so/159bab2ff98d44069160866901572844" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">直接運行 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">pnpm dev</code></span><span class="SemanticString"> 啟動專案吧！</span></span><div id="https://www.notion.so/33f02ee7cf2546ca95e92dc8a01ebcf0" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fce9dcb2e-e8b2-4683-8073-5dc0d1a91890%2F61bef7cc-0b42-474e-a377-535dcb6d369e%2FUntitled.png?width=787&amp;table=block&amp;id=33f02ee7-cf25-46ca-95e9-2dc8a01ebcf0"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fce9dcb2e-e8b2-4683-8073-5dc0d1a91890%2F61bef7cc-0b42-474e-a377-535dcb6d369e%2FUntitled.png?width=787&amp;table=block&amp;id=33f02ee7-cf25-46ca-95e9-2dc8a01ebcf0" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">pnpm dev 運行結果</span></span></figcaption></figure></div></li></ul><h3 id="https://www.notion.so/0579bb86487c46148b6ca0e75e96fea3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/0579bb86487c46148b6ca0e75e96fea3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">訪問 127.0.0.1:3000</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/25349649c72b433c890be3de36115f35" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">打開你的網頁訪問 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://127.0.0.1:3000">http://127.0.0.1:3000</a></span><span class="SemanticString"> 吧</span></span></li></ul><div id="https://www.notion.so/651877b8f1d24dd3b8ec37f86c73f095" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fce9dcb2e-e8b2-4683-8073-5dc0d1a91890%2F65fc4c8d-9739-477d-bd33-e19f4f554beb%2FUntitled.png?width=206&amp;table=block&amp;id=651877b8-f1d2-4dd3-b8ec-37f86c73f095"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fce9dcb2e-e8b2-4683-8073-5dc0d1a91890%2F65fc4c8d-9739-477d-bd33-e19f4f554beb%2FUntitled.png?width=206&amp;table=block&amp;id=651877b8-f1d2-4dd3-b8ec-37f86c73f095" style="width:206px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/52083a9fee4543158cbd64ce4d18e697" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/52083a9fee4543158cbd64ce4d18e697"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">最後的專案結構</span></span></h2><pre id="https://www.notion.so/88744a46e2e1495d86d3aafb9d62a275" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token punctuation">|</span><span class="token operator">--</span> client
<span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> bundle
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> main<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   `<span class="token operator">--</span> main<span class="token punctuation">.</span>pcss
<span class="token punctuation">|</span>   `<span class="token operator">--</span> public
<span class="token punctuation">|</span>       `<span class="token operator">--</span> _compiled
<span class="token punctuation">|</span>           <span class="token punctuation">|</span><span class="token operator">--</span> main<span class="token punctuation">.</span>bundle<span class="token punctuation">.</span>css
<span class="token punctuation">|</span>           `<span class="token operator">--</span> main<span class="token punctuation">.</span>bundle<span class="token punctuation">.</span>js
<span class="token punctuation">|</span><span class="token operator">--</span> package<span class="token punctuation">.</span>json
<span class="token punctuation">|</span><span class="token operator">--</span> pnpm-lock<span class="token punctuation">.</span>yaml
<span class="token punctuation">|</span><span class="token operator">--</span> postcss<span class="token punctuation">.</span>config<span class="token punctuation">.</span>cjs
<span class="token punctuation">|</span><span class="token operator">--</span> server
<span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> app<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> env-<span class="token keyword">class</span><span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> modules
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> course-hub
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> index<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span>   `<span class="token operator">--</span> routes
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   `<span class="token operator">--</span> home<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> plugins
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> cors<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> formBody<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> sensible<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> static<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> under-pressure<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span>   `<span class="token operator">--</span> view-engine<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> repository
<span class="token punctuation">|</span>   <span class="token punctuation">|</span><span class="token operator">--</span> server<span class="token punctuation">.</span>js
<span class="token punctuation">|</span>   `<span class="token operator">--</span> views
<span class="token punctuation">|</span>       <span class="token punctuation">|</span><span class="token operator">--</span> components
<span class="token punctuation">|</span>       <span class="token punctuation">|</span>   `<span class="token operator">--</span> head<span class="token punctuation">.</span>ejs
<span class="token punctuation">|</span>       `<span class="token operator">--</span> home<span class="token punctuation">.</span>ejs
`<span class="token operator">--</span> tailwind<span class="token punctuation">.</span>config<span class="token punctuation">.</span>cjs</span></span></span></code></pre><h1 id="https://www.notion.so/fcd21d15fe0647b9a0909e1e96481962" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/fcd21d15fe0647b9a0909e1e96481962"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">參考資料</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/d6e822ee931144fc81c258605dd82865" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/mattwaler/fastify-starter"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">fastify-starter</strong></a></span></span></li><li id="https://www.notion.so/6f59920b04cb4c2095a4f87c0c923979" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.fun4code.com/htmx-expressjs-a-step-by-step-guide/"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Full Stack Application – HTMX + ExpressJS + Turso: A Step-by-Step Guide 🎉 📚</strong></a></span></span></li></ul><div id="https://www.notion.so/4055e15db4ae4eb68b1e873a139d942e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/f79a451a2ce94f7e98b7b28bb7014741" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fce9dcb2e-e8b2-4683-8073-5dc0d1a91890%2F65347bcb-6782-4799-b1ab-3f3bf68b02ca%2FUntitled.png?width=787&amp;table=block&amp;id=f79a451a-2ce9-4f7e-98b7-b28bb7014741"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fce9dcb2e-e8b2-4683-8073-5dc0d1a91890%2F65347bcb-6782-4799-b1ab-3f3bf68b02ca%2FUntitled.png?width=787&amp;table=block&amp;id=f79a451a-2ce9-4f7e-98b7-b28bb7014741" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></article>
<br />
<script src="https://utteranc.es/client.js"
  repo="Chinlinlee/Chinlinlee.github.io"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>
  <footer class="Footer">
  <div>&copy; ChinLin’s Blog 2021-2024</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>
<script src="./scripts/code-copy.js"></script>
<script type="text/javascript" src="./scripts/table-of-contents-sidebar-lib/table-of-contents-sidebar.min.js"></script>
<script type="text/javascript">
    window.onload = function(e){
        TableOfContents.init({
            basePath: "./scripts/table-of-contents-sidebar-lib/",
            querySelector: "body" // or other css querySelector
        });
    }
</script>