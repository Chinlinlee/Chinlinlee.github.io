var TableOfContents={params:void 0,fixedHeight:0,isOverflow:!1,init:function(e){if(this.params=e,!TableOfContents.isMobile()){var t=this.extractNodes();if(t.nodes&&0!=t.nodes.length&&(1!=t.nodes.length||t.nodes[0].nodes)){this.injectCss();var o=this.createFixedSidebarNode(),n=this.createFixedMenuNode();o.appendChild(this.createOptionsNode());var i=document.createElement("ul");i.id="table-of-contents-sidebar-list-container-id",this.parseNodes(i,t,0),o.appendChild(i),o.appendChild(this.createCopyrightNode());var a=document.createElement("div");a.id="table-of-contents-sidebar-fixed-sidebar-tooltip",o.appendChild(a),document.body.appendChild(o),document.body.appendChild(n),TableOfContentsTooltip.tooltip=document.getElementById("table-of-contents-sidebar-fixed-sidebar-tooltip"),this.scrollRebuild()}}},isMobile:function(){return!1},scrollRebuild:function(){var e;window.addEventListener("scroll",(function(t){window.clearTimeout(e),e=setTimeout((function(){for(var e=0,t=document.getElementsByTagName("*"),o=0,n=t.length;o<n;o++){var i=t[o];if("table-of-contents-sidebar-id"!=i.id){var a=window.getComputedStyle(i,null),s=a.getPropertyValue("position"),d=a.getPropertyValue("top");"fixed"==s&&"0px"==d&&i.offsetHeight<200&&(e+=i.offsetHeight)}}TableOfContents.fixedHeight=e,TableOfContents.rebuild()}),500)}),!1)},rebuild:function(){var e=document.getElementById("table-of-contents-sidebar-list-container-id");if(e){var t=this.extractNodes();if(t.nodes&&0!=t.nodes.length&&(1!=t.nodes.length||t.nodes.nodes)){for(;e.firstChild;)e.removeChild(e.firstChild);this.parseNodes(e,t,0)}}},createFixedMenuNode:function(){var e=this.fixedSidebarNode();e&&(e.style.left,e.style.right);var t=document.createElement("img");return t.id="table-of-contents-sidebar-hover-menu-id",t.src=this.params.basePath+"images/ic_normal.png",t.className="table-of-contents-sidebar-menu",t.style.left=null,t.style.right="18px",t.addEventListener("mouseover",TableOfContents.mouseOverEvent),t.addEventListener("mouseout",TableOfContents.mouseOutEvent),t},fixedSidebarPinBtnNode:function(){return document.getElementById("table-of-contents-sidebar-pin-id")},fixedSidebarPositionBtnNode:function(){return document.getElementById("table-of-contents-sidebar-position-id")},fixedSidebarNode:function(){return document.getElementById("table-of-contents-sidebar-id")},fixedSidebarMenuNode:function(){return document.getElementById("table-of-contents-sidebar-hover-menu-id")},sidebarMouseOutEvent:function(e){e.stopPropagation(),document.getElementById("table-of-contents-sidebar-id").className="table-of-contents-sidebar-fixed-sidebar"},sidebarMouseOverEvent:function(e){e.stopPropagation(),document.getElementById("table-of-contents-sidebar-id").className="table-of-contents-sidebar-fixed-sidebar show"},mouseOutEvent:function(e){e.stopPropagation();var t=document.getElementById("table-of-contents-sidebar-id");t.className="table-of-contents-sidebar-fixed-sidebar",t.addEventListener("mouseout",TableOfContents.sidebarMouseOutEvent),t.addEventListener("mouseover",TableOfContents.sidebarMouseOverEvent)},mouseOverEvent:function(e){e.stopPropagation();var t=document.getElementById("table-of-contents-sidebar-id");t&&(t.className="table-of-contents-sidebar-fixed-sidebar show",t.addEventListener("mouseout",TableOfContents.sidebarMouseOutEvent),t.addEventListener("mouseover",TableOfContents.sidebarMouseOverEvent))},createFixedSidebarNode:function(){var e=document.createElement("div");return e.id="table-of-contents-sidebar-id",e.className="table-of-contents-sidebar-fixed-sidebar",e},createOptionsNode:function(){var e=this.createSpanNode(""),t=this.createImageNode(this.params.basePath+"images/right.png","Right");t.id="table-of-contents-sidebar-position-id",t.src=this.params.basePath+"images/left.png",t.addEventListener("click",(function(e){e.stopPropagation(),TableOfContents.activeLeft()})),t.tooltip=this.params.leftTooltip||"Left",t.addEventListener("mouseover",TableOfContentsTooltip.show),t.addEventListener("mouseleave",TableOfContentsTooltip.hide);var o=this.createImageNode(this.params.basePath+"images/unpin.png","Pin");o.id="table-of-contents-sidebar-pin-id",o.addEventListener("click",(function(e){e.stopPropagation(),TableOfContents.activePin()})),o.tooltip=this.params.pinTooltip||"Pin",o.addEventListener("mouseover",TableOfContentsTooltip.show),o.addEventListener("mouseleave",TableOfContentsTooltip.hide);var n=this.createImageNode(this.params.basePath+"images/bug.png","Report Bugs");n.addEventListener("click",(function(e){e.stopPropagation(),window.open("https://github.com/table-of-contents-sidebar/table-of-contents-sidebar/issues","_blank")})),n.tooltip=this.params.bugTooltip||"Report Bug",n.addEventListener("mouseover",TableOfContentsTooltip.show),n.addEventListener("mouseleave",TableOfContentsTooltip.hide);var i=this.createImageNode(this.params.basePath+"images/star.png","Rate Us");i.addEventListener("click",(function(e){e.stopPropagation(),window.open("https://chrome.google.com/webstore/detail/table-of-contents-sidebar/ohohkfheangmbedkgechjkmbepeikkej/reviews","_blank")})),i.tooltip=this.params.rateusTooltip||"Rate Us",i.addEventListener("mouseover",TableOfContentsTooltip.show),i.addEventListener("mouseleave",TableOfContentsTooltip.hide);var a=this.createImageNode(this.params.basePath+"images/chrome.png","Install Chrome Extension");a.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),chrome.webstore.install("https://chrome.google.com/webstore/detail/ohohkfheangmbedkgechjkmbepeikkej",(function(){}),(function(e){"User cancelled install"!=e&&window.open("https://chrome.google.com/webstore/detail/table-of-contents-sidebar/ohohkfheangmbedkgechjkmbepeikkej/reviews","_blank")}))})),a.tooltip=this.params.installTooltip||"Install Chrome Extension",a.addEventListener("mouseover",TableOfContentsTooltip.show),a.addEventListener("mouseleave",TableOfContentsTooltip.hide);var s=this.createImageNode(this.params.basePath+"images/code.png","Integrate to your website");if(s.addEventListener("click",(function(e){e.stopPropagation(),window.open("https://table-of-contents-sidebar.github.io","_blank")})),s.tooltip=this.params.integrateBtnTooltip||"Integrate to your website",s.addEventListener("mouseover",TableOfContentsTooltip.show),s.addEventListener("mouseleave",TableOfContentsTooltip.hide),e.appendChild(t),e.appendChild(o),e.appendChild(n),window.chrome)if(window.chrome.extension)e.appendChild(i);else{var d=document.createElement("link");d.href="https://chrome.google.com/webstore/detail/ohohkfheangmbedkgechjkmbepeikkej",d.rel="chrome-webstore-item";var l=document.getElementsByTagName("head");l?l[0].appendChild(d):document.body.appendChild(d),e.appendChild(a)}return e.appendChild(s),e.appendChild(document.createElement("br")),e},createCopyrightNode:function(){var e=document.createElement("span");e.className="copyright";var t=document.createElement("a");t.appendChild(document.createTextNode("Yiting")),t.href="https://yiting.myportfolio.com?utm_source=toc",t.target="_blank",t.tooltip=this.params.yitingTooltip||"Yiting's Blog",t.addEventListener("mouseover",TableOfContentsTooltip.show),t.addEventListener("mouseleave",TableOfContentsTooltip.hide);var o=document.createElement("a");o.appendChild(document.createTextNode("Majiang")),o.href="http://www.majiang.life?utm_source=toc",o.target="_blank",o.tooltip=this.params.majiangTooltip||"Majiang's Blog",o.addEventListener("mouseover",TableOfContentsTooltip.show),o.addEventListener("mouseleave",TableOfContentsTooltip.hide);var n=document.createTextNode("Powered by "),i=document.createTextNode(" & ");return e.appendChild(n),e.appendChild(t),e.appendChild(i),e.appendChild(o),e},createImageNode:function(e,t,o){var n=document.createElement("img");return n.style.marginLeft="12px",n.style.height=o||"22px",n.style.width=o||"22px",n.style.cursor="pointer",n.src=e,n},injectCss:function(){var e=document.createElement("link");e.href=this.params.basePath+"table-of-contents-sidebar.css",e.type="text/css",e.rel="stylesheet";var t=document.getElementsByTagName("head");t?t[0].appendChild(e):document.body.appendChild(e)},extractNodes:function(){for(var e=this.params.querySelector||"body",t=document.querySelector(e).querySelectorAll("*"),o=[],n={nodes:[]},i=0,a=t.length;i<a;i++){var s=t[i],d=window.getComputedStyle(s,null),l=d.getPropertyValue("position"),r=d.getPropertyValue("top");if("fixed"==l&&"0px"==r&&s.offsetHeight<200&&(TableOfContents.fixedHeight+=s.offsetHeight),s&&s.textContent&&s.textContent.trim()&&("H1"==s.nodeName||"H2"==s.nodeName||"H3"==s.nodeName||"H4"==s.nodeName||"H5"==s.nodeName||"H6"==s.nodeName)){var p=s.getBoundingClientRect().top+document.documentElement.scrollTop;if(p>document.body.offsetHeight&&(TableOfContents.isOverflow=!0),o&&0!=o.length)if(p==o[o.length-1].absTop)continue;s.id||(s.id=this.uuid());var f={id:s.id,text:s.textContent,name:s.nodeName,absTop:p};this.addNode(n,f),o.push(f),p}}return n},addNode:function(e,t){if(e&&e.nodes&&0!=e.nodes.length){var o=e.nodes[e.nodes.length-1];o.name==t.name?e.nodes.push(t):o.name<t.name?this.addNode(o,t):e.nodes.push(t)}else e.nodes=[t]},uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},activeLeft:function(e,t){var o=this.fixedSidebarPositionBtnNode();o&&(o.src=this.params.basePath+"images/right.png",o.addEventListener("click",(function(e){e.stopPropagation(),TableOfContents.activeRight()})),o.tooltip=this.params.rightTooltip||"Right",o.addEventListener("mouseover",TableOfContentsTooltip.show),o.addEventListener("mouseleave",TableOfContentsTooltip.hide));e=e||this.fixedSidebarNode(),t=t||this.fixedSidebarMenuNode();e&&(e.style.left="0px",e.style.right=null),t&&(t.style.left="18px",t.style.right=null)},activeRight:function(e,t){var o=this.fixedSidebarPositionBtnNode();o&&(o.src=this.params.basePath+"images/left.png",o.addEventListener("click",(function(e){e.stopPropagation(),TableOfContents.activeLeft()})),o.tooltip=this.params.leftTooltip||"Left",o.addEventListener("mouseover",TableOfContentsTooltip.show),o.addEventListener("mouseleave",TableOfContentsTooltip.hide));e=e||this.fixedSidebarNode(),t=t||this.fixedSidebarMenuNode();e&&(e.style.right="0px",e.style.left=null),t&&(t.style.right="18px",t.style.left=null)},activePin:function(e,t){var o=this.fixedSidebarPinBtnNode();o&&(o.src=this.params.basePath+"images/pin.png",o.addEventListener("click",(function(e){e.stopPropagation(),TableOfContents.activeUnpin()})),o.tooltip=this.params.unpinTooltip||"Unpin",o.addEventListener("mouseover",TableOfContentsTooltip.show),o.addEventListener("mouseleave",TableOfContentsTooltip.hide));e=e||this.fixedSidebarNode(),t=t||this.fixedSidebarMenuNode();e&&(e.removeEventListener("mouseout",TableOfContents.sidebarMouseOutEvent,!1),e.removeEventListener("mouseover",TableOfContents.sidebarMouseOverEvent,!1),e.className="table-of-contents-sidebar-fixed-sidebar show"),t&&(t.removeEventListener("mouseout",TableOfContents.mouseOutEvent,!1),t.removeEventListener("mouseover",TableOfContents.mouseOverEvent,!1))},activeUnpin:function(e,t){var o=this.fixedSidebarPinBtnNode();o&&(o.src=this.params.basePath+"images/unpin.png",o.addEventListener("click",(function(e){e.stopPropagation(),TableOfContents.activePin()})),o.tooltip=this.params.pinTooltip||"Pin",o.addEventListener("mouseover",TableOfContentsTooltip.show),o.addEventListener("mouseleave",TableOfContentsTooltip.hide));e=e||this.fixedSidebarNode(),t=t||this.fixedSidebarMenuNode();e&&(e.addEventListener("mouseout",TableOfContents.sidebarMouseOutEvent),e.addEventListener("mouseover",TableOfContents.sidebarMouseOverEvent)),t&&(t.style.display="block",t.addEventListener("mouseover",TableOfContents.mouseOverEvent),t.addEventListener("mouseout",TableOfContents.mouseOutEvent))},createSpanNode:function(e){var t=document.createElement("span"),o=document.createTextNode(e);return t.appendChild(o),t},parseNodes:function(e,t,o){if(t){if(t.text){var n=document.createElement("li"),i="ANCHOR-"+o;n.className=i;var a=document.createElement("a"),s=document.createTextNode(t.text);a.appendChild(s),a.tooltip=t.text,a.auto=!0,a.href="#"+t.id,a.addEventListener("mouseover",TableOfContentsTooltip.show),a.addEventListener("mouseleave",TableOfContentsTooltip.hide),a.addEventListener("click",(function(e){e.preventDefault();var t=e.srcElement.hash.substr(1),o=document.getElementById(decodeURIComponent(t)).getBoundingClientRect().top+window.scrollY-TableOfContents.fixedHeight;TableOfContents.isOverflow?window.location.hash=e.srcElement.hash:window.scroll({top:o,left:0,behavior:"smooth"})})),n.appendChild(a),e.appendChild(n)}if(o++,t.nodes&&0!=t.nodes.length)for(var d=0;d<t.nodes.length;d++)this.parseNodes(e,t.nodes[d],o)}}},TableOfContentsTooltip={tooltip:void 0,target:void 0,show:function(){TableOfContentsTooltip.target=this;var e=TableOfContentsTooltip.target.tooltip;if(!e||""==e)return!1;TableOfContentsTooltip.tooltip.innerText=e.trim().replace(/\n|\r/g,"");var t=TableOfContentsTooltip.target.offsetTop-TableOfContentsTooltip.tooltip.offsetHeight-10;if(TableOfContentsTooltip.target.auto){var o=document.getElementById("table-of-contents-sidebar-list-container-id").scrollTop;t-=o}var n=0;if(TableOfContentsTooltip.tooltip.className="",TableOfContentsTooltip.tooltip.offsetWidth>240&&(TableOfContentsTooltip.tooltip.style.maxWidth="240px"),TableOfContentsTooltip.target.offsetWidth>200?n=0:TableOfContentsTooltip.target.offsetLeft+TableOfContentsTooltip.target.offsetWidth/2>TableOfContentsTooltip.tooltip.offsetWidth/2&&250-TableOfContentsTooltip.target.offsetLeft+TableOfContentsTooltip.target.offsetWidth/2>TableOfContentsTooltip.tooltip.offsetWidth/2&&(n=TableOfContentsTooltip.target.offsetLeft+TableOfContentsTooltip.target.offsetWidth/2-TableOfContentsTooltip.tooltip.offsetWidth/2),t<0){t=TableOfContentsTooltip.target.offsetTop+TableOfContentsTooltip.target.offsetHeight-5;TableOfContentsTooltip.target.auto&&(t-=o),TableOfContentsTooltip.tooltip.className+=" top"}TableOfContentsTooltip.tooltip.style.left=n+"px",TableOfContentsTooltip.tooltip.style.top=t+"px",TableOfContentsTooltip.tooltip.className+=" show"},hide:function(){TableOfContentsTooltip.tooltip.className=TableOfContentsTooltip.tooltip.className.replace("show","")}};